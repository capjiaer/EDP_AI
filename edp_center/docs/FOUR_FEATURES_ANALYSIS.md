# 四个核心功能详细分析

## 📋 目录

1. [历史查询功能](#1-历史查询功能)
2. [性能分析功能](#2-性能分析功能)
3. [回滚功能](#3-回滚功能)
4. [结果验证功能](#4-结果验证功能)

---

## 1. 历史查询功能

### 主要目的

**核心价值**：提供便捷的命令行接口，快速查询和分析执行历史

### 使用场景示例

#### 场景 1：查找最近的失败执行
```bash
# 查看最近 5 次失败记录
edp -history --status failed --limit 5

# 输出示例：
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# [1] 2025-11-14 17:58:22 | pv_calibre.drc | ❌ failed  | 0h 15m | CPU: 8
#     错误: DRC violations found: 125 errors
#     日志: logs/pv_calibre/drc/drc_20251114_175822.log
# [2] 2025-11-13 11:12:38 | pnr_innovus.place | ❌ failed  | 0h 05m | CPU: 16
#     错误: Memory allocation failed
#     日志: logs/pnr_innovus/place/place_20251113_111238.log
```

#### 场景 2：分析某个步骤的执行趋势
```bash
# 查看 ipmerge 步骤的所有历史
edp -history pv_calibre.ipmerge

# 输出示例：
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# pv_calibre.ipmerge 执行历史 (共 25 条记录):
# 
# [1] 2025-11-14 17:58:22 | ✅ success | 1h 23m | CPU: 16 | Mem: 32GB
# [2] 2025-11-14 11:12:38 | ❌ failed  | 0h 05m | CPU: 16 | Mem: 32GB
# [3] 2025-11-13 15:30:10 | ✅ success | 1h 20m | CPU: 16 | Mem: 32GB
# [4] 2025-11-12 09:45:22 | ✅ success | 1h 18m | CPU: 16 | Mem: 32GB
# ...
# 
# 统计信息:
# - 成功率: 96% (24/25)
# - 平均执行时间: 1h 20m
# - 最短执行时间: 1h 15m
# - 最长执行时间: 1h 45m
```

#### 场景 3：对比不同时间的执行
```bash
# 查看本周的执行历史
edp -history --from "2025-11-10" --to "2025-11-17"

# 查看特定步骤在特定时间段的执行
edp -history pv_calibre.ipmerge --from "2025-11-10" --to "2025-11-12"
```

#### 场景 4：查看特定用户的执行历史
```bash
# 查看所有步骤的历史（当前分支）
edp -history

# 输出示例：
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 运行历史 (共 50 条记录):
# 
# [1] 2025-11-14 17:58:22 | pnr_innovus.place | ✅ success | 1h 23m | CPU: 16
# [2] 2025-11-14 17:57:46 | pnr_innovus.place | ✅ success | 1h 25m | CPU: 16
# [3] 2025-11-14 11:12:38 | pv_calibre.drc   | ❌ failed  | 0h 05m | CPU: 8
# [4] 2025-11-14 10:30:15 | pv_calibre.ipmerge | ✅ success | 1h 20m | CPU: 16
# ...
```

---

## 2. 性能分析功能

### 主要目的

**核心价值**：分析执行时间和资源使用情况，识别性能瓶颈，提供优化建议

### 使用场景示例

#### 场景 1：查看整体性能统计
```bash
# 查看当前分支的性能统计
edp -stats

# 输出示例：
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 性能统计 - 所有步骤
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 
# 总体统计:
# - 总执行次数: 125
# - 总成功率: 94.4% (118/125)
# - 总执行时间: 156h 23m
# - 平均每次执行: 1h 15m
# 
# 最慢的步骤 (Top 5):
# 1. pnr_innovus.postroute  - 平均: 2h 45m | 最长: 3h 20m | 最短: 2h 10m
# 2. pnr_innovus.route      - 平均: 2h 15m | 最长: 2h 50m | 最短: 1h 55m
# 3. pv_calibre.ipmerge     - 平均: 1h 23m | 最长: 1h 45m | 最短: 1h 15m
# 4. pnr_innovus.place     - 平均: 1h 20m | 最长: 1h 35m | 最短: 1h 10m
# 5. pv_calibre.drc        - 平均: 0h 45m | 最长: 1h 05m | 最短: 0h 30m
# 
# 资源使用统计:
# - 平均 CPU 使用: 16 核
# - 峰值内存使用: 45 GB (pnr_innovus.postroute)
# - 平均内存使用: 32 GB
# - 最常用队列: normal (80%)
```

#### 场景 2：分析特定步骤的性能
```bash
# 查看 pnr_innovus.place 步骤的性能统计
edp -stats pnr_innovus.place

# 输出示例：
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 性能统计 - pnr_innovus.place
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 
# 执行次数: 25
# 成功率: 96% (24/25)
# 
# 执行时间统计:
# - 平均执行时间: 1h 28m
# - 最短执行时间: 1h 15m (2025-11-12 09:45:22)
# - 最长执行时间: 1h 45m (2025-11-08 14:20:10)
# - 中位数: 1h 25m
# - 标准差: 8m 30s
# 
# 资源使用:
# - 平均 CPU: 16 核
# - 平均内存: 32 GB
# - Peak 内存: 45 GB (2025-11-10 18:09:44)
# - 平均 CPU 时间: 225.5 秒/核
# 
# 性能趋势 (最近 10 次):
# 执行时间: ████████████████████ 1h 23m (最新)
#            ████████████████████ 1h 25m
#            ████████████████████ 1h 20m
#            ████████████████████ 1h 28m
#            ████████████████████ 1h 22m
#            ████████████████████ 1h 30m
#            ████████████████████ 1h 18m
#            ████████████████████ 1h 25m
#            ████████████████████ 1h 27m
#            ████████████████████ 1h 15m (最早)
# 
# 优化建议:
# - ⚠️  执行时间波动较大 (标准差: 8m 30s)，建议检查配置一致性
# - 💡  Peak 内存使用较高 (45 GB)，建议优化内存配置
# - ✅ CPU 使用率稳定，资源分配合理
```

#### 场景 3：查看性能趋势
```bash
# 查看性能趋势（图表）
edp -stats pnr_innovus.place --trend

# 输出示例：
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 性能趋势 - pnr_innovus.place
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 
# 执行时间趋势 (最近 30 次):
# 
# 2h 00m ┤
# 1h 45m ┤                                    ╭─╮
# 1h 30m ┤              ╭─╮     ╭─╮     ╭─╮  │ │
# 1h 15m ┤  ╭─╮  ╭─╮  ╭─╯ ╰─╮  ╭─╯ ╰─╮  ╭─╯ ╰─╯ ╰─╮
# 1h 00m ┤──╯  ╰──╯  ╰─╯     ╰──╯     ╰──╯        ╰──
#        └─────────────────────────────────────────────
#         11/01  11/05  11/10  11/15  11/20  11/25
# 
# 内存使用趋势:
# 
# 50GB ┤
# 40GB ┤                    ╭─╮
# 30GB ┤  ╭─╮  ╭─╮  ╭─╮  ╭─╯ ╰─╮  ╭─╮
# 20GB ┤──╯  ╰──╯  ╰──╯  ╰─╯     ╰──╯
#      └─────────────────────────────────────────────
#       11/01  11/05  11/10  11/15  11/20  11/25
```

#### 场景 4：导出性能报告
```bash
# 导出性能报告为 HTML
edp -stats --export performance_report.html

# 导出为 CSV（用于 Excel 分析）
edp -stats --export performance_data.csv --format csv

# 导出为 JSON（用于程序分析）
edp -stats --export performance_data.json --format json
```

#### 场景 5：对比不同配置的性能
```bash
# 对比不同 CPU 配置的性能
edp -stats pv_calibre.ipmerge --group-by cpu_num

# 输出示例：
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 性能对比 - 按 CPU 数量分组
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 
# CPU: 8 核
#   - 平均执行时间: 2h 15m
#   - 执行次数: 10
# 
# CPU: 16 核
#   - 平均执行时间: 1h 23m  ⭐ 最优
#   - 执行次数: 15
# 
# CPU: 32 核
#   - 平均执行时间: 1h 25m
#   - 执行次数: 5
# 
# 💡 建议: 16 核配置在性能和成本之间达到最佳平衡
```

---

## 3. 回滚功能

### 主要目的

**核心价值**：快速恢复到之前的成功执行状态，避免重新执行耗时步骤

### 使用场景示例

#### 场景 1：回滚到上一次成功的执行
```bash
# 当前状态：执行失败，需要回滚
edp -run pnr_innovus.place  # 执行失败

# 回滚到上一次成功的执行
edp -rollback

# 输出示例：
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 回滚操作
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 
# 找到上一次成功执行:
# - 时间: 2025-11-14 17:58:22
# - 步骤: pnr_innovus.place
# - 状态: ✅ success
# - 执行时间: 1h 23m
# 
# 将恢复以下文件:
# - output/place.def
# - output/place.db
# - results/place.timing
# - logs/pnr_innovus/place/place_20251114_175822.log
# 
# 确认回滚? [y/N]: y
# 
# [INFO] 正在恢复文件...
# [OK] 已恢复 4 个文件
# [OK] 回滚完成！当前状态已恢复到 2025-11-14 17:58:22
```

#### 场景 2：回滚到指定的历史记录
```bash
# 查看可回滚的历史记录
edp -history pnr_innovus.place --limit 10

# 输出示例：
# [1] 2025-11-14 17:58:22 | ✅ success | 1h 23m
# [2] 2025-11-14 11:12:38 | ❌ failed  | 0h 05m
# [3] 2025-11-13 15:30:10 | ✅ success | 1h 20m
# [4] 2025-11-12 09:45:22 | ✅ success | 1h 18m
# ...

# 回滚到索引 3 的记录（2025-11-13 15:30:10）
edp -rollback --index 3

# 或者回滚到指定步骤的最后一次成功执行
edp -rollback pnr_innovus.place
```

#### 场景 3：回滚到指定时间点
```bash
# 回滚到指定时间点的状态
edp -rollback --to "2025-11-10 18:09:44"

# 输出示例：
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 回滚到指定时间点
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 
# 目标时间: 2025-11-10 18:09:44
# 
# 找到匹配的执行记录:
# - 步骤: pv_calibre.ipmerge
# - 状态: ✅ success
# - 执行时间: 1h 23m
# 
# 将恢复以下文件:
# - output/ipmerge.def
# - output/ipmerge.db
# - logs/pv_calibre/ipmerge/ipmerge_20251110_180944.log
# 
# 确认回滚? [y/N]: y
# 
# [INFO] 正在恢复文件...
# [OK] 回滚完成！
```

#### 场景 4：预览回滚操作（不实际执行）
```bash
# 预览回滚操作，不实际执行
edp -rollback --dry-run

# 输出示例：
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 回滚预览 (Dry Run)
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 
# 目标执行记录:
# - 时间: 2025-11-14 17:58:22
# - 步骤: pnr_innovus.place
# - 状态: ✅ success
# 
# 将执行的操作:
# 1. 恢复文件: output/place.def (从备份)
# 2. 恢复文件: output/place.db (从备份)
# 3. 恢复文件: results/place.timing (从备份)
# 4. 更新 .run_info 标记回滚点
# 
# ⚠️  注意: 当前文件将被覆盖
# 
# 要实际执行回滚，请运行: edp -rollback
```

#### 场景 5：回滚多个步骤
```bash
# 回滚整个工作流到指定时间点
edp -rollback --to "2025-11-10 18:09:44" --all-steps

# 输出示例：
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 回滚多个步骤
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 
# 目标时间: 2025-11-10 18:09:44
# 
# 将回滚以下步骤:
# 1. pv_calibre.ipmerge (2025-11-10 18:09:44)
# 2. pv_calibre.drc (2025-11-10 16:30:15)
# 3. pnr_innovus.init (2025-11-10 14:20:10)
# 
# 确认回滚所有步骤? [y/N]: y
# 
# [INFO] 正在回滚步骤 1/3: pv_calibre.ipmerge
# [OK] 步骤 1 回滚完成
# [INFO] 正在回滚步骤 2/3: pv_calibre.drc
# [OK] 步骤 2 回滚完成
# [INFO] 正在回滚步骤 3/3: pnr_innovus.init
# [OK] 步骤 3 回滚完成
# 
# [OK] 所有步骤回滚完成！
```

---

## 4. 结果验证功能

### 主要目的

**核心价值**：自动验证执行结果的完整性和正确性，及早发现问题

### 使用场景示例

#### 场景 1：验证最后一次执行的结果
```bash
# 执行步骤后，自动验证结果
edp -run pnr_innovus.place

# 手动验证最后一次执行
edp -validate

# 输出示例：
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 结果验证 - pnr_innovus.place
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 
# 执行信息:
# - 时间: 2025-11-14 17:58:22
# - 状态: ✅ success
# - 执行时间: 1h 23m
# 
# 文件检查:
# ✅ output/place.def         存在 (大小: 125.3 MB)
# ✅ output/place.db          存在 (大小: 89.7 MB)
# ✅ results/place.timing     存在 (大小: 2.1 MB)
# ✅ logs/place.log           存在 (大小: 15.2 MB)
# 
# 日志检查:
# ✅ 无错误信息
# ✅ 无警告信息
# ⚠️  发现 3 条 INFO 级别消息
# 
# 完整性检查:
# ✅ 所有关键文件存在
# ✅ 文件大小合理
# ✅ 文件可读
# 
# 验证结果: ✅ 通过
```

#### 场景 2：验证指定步骤的结果
```bash
# 验证特定步骤的结果
edp -validate pv_calibre.ipmerge

# 输出示例：
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 结果验证 - pv_calibre.ipmerge
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 
# 执行信息:
# - 时间: 2025-11-14 10:30:15
# - 状态: ✅ success
# 
# 文件检查:
# ✅ output/ipmerge.def       存在 (大小: 98.5 MB)
# ✅ output/ipmerge.db         存在 (大小: 72.3 MB)
# ❌ output/ipmerge.report     缺失 ⚠️
# ✅ logs/ipmerge.log          存在 (大小: 8.9 MB)
# 
# 日志检查:
# ⚠️  发现错误: "Warning: Some cells not merged"
# ⚠️  发现警告: "Memory usage high: 85%"
# 
# 完整性检查:
# ❌ 关键文件缺失: output/ipmerge.report
# 
# 验证结果: ❌ 失败
# 
# 问题:
# 1. 输出文件 output/ipmerge.report 缺失
# 2. 日志中发现警告信息
# 
# 建议:
# - 检查执行日志获取详细信息
# - 重新执行步骤以生成缺失的文件
```

#### 场景 3：生成验证报告
```bash
# 验证并生成详细报告
edp -validate pnr_innovus.place --report

# 输出示例：
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 结果验证报告 - pnr_innovus.place
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 
# 执行信息:
# - 时间: 2025-11-14 17:58:22
# - 状态: ✅ success
# - 执行时间: 1h 23m
# - LSF Job ID: 12345
# 
# 文件验证结果:
# ┌─────────────────────────┬──────────┬──────────┬──────────┐
# │ 文件路径                │ 状态     │ 大小     │ Checksum │
# ├─────────────────────────┼──────────┼──────────┼──────────┤
# │ output/place.def        │ ✅ 通过  │ 125.3 MB │ a1b2c3d4 │
# │ output/place.db         │ ✅ 通过  │ 89.7 MB  │ e5f6g7h8 │
# │ results/place.timing    │ ✅ 通过  │ 2.1 MB   │ i9j0k1l2 │
# │ logs/place.log          │ ✅ 通过  │ 15.2 MB  │ m3n4o5p6 │
# └─────────────────────────┴──────────┴──────────┴──────────┘
# 
# 日志分析:
# - 总行数: 15,234
# - 错误数: 0
# - 警告数: 3
# - INFO 数: 1,245
# 
# 性能指标:
# - CPU 使用: 16 核
# - 峰值内存: 32 GB
# - 执行时间: 1h 23m
# 
# 验证结果: ✅ 通过
# 
# 报告已保存到: validation_report_20251114_175822.html
```

#### 场景 4：Timing Compare（对比不同分支的结果）
```bash
# 对比两个分支的 timing 结果
edp -validate --timing-compare branch1 branch2

# 输出示例：
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Timing Compare - branch1 vs branch2
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 
# 对比步骤: pnr_innovus.postroute
# 
# branch1 (2025-11-14 17:58:22):
# - WNS: -0.123 ns
# - TNS: -45.67 ns
# - 违反路径数: 125
# 
# branch2 (2025-11-14 18:30:15):
# - WNS: -0.098 ns  ⬆️  改善 0.025 ns
# - TNS: -38.92 ns  ⬆️  改善 6.75 ns
# - 违反路径数: 98   ⬆️  减少 27 条
# 
# 对比结果:
# ✅ branch2 的 timing 结果更好
# - WNS 改善了 20.3%
# - TNS 改善了 14.8%
# - 违反路径减少了 21.6%
# 
# 详细对比报告已保存到: timing_compare_branch1_vs_branch2.html
```

#### 场景 5：验证文件完整性（Checksum）
```bash
# 验证文件完整性
edp -validate pnr_innovus.place --checksum

# 输出示例：
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 文件完整性验证
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 
# 文件 Checksum 验证:
# ✅ output/place.def
#    - 当前 Checksum: a1b2c3d4e5f6g7h8
#    - 历史 Checksum: a1b2c3d4e5f6g7h8
#    - 状态: ✅ 一致
# 
# ✅ output/place.db
#    - 当前 Checksum: i9j0k1l2m3n4o5p6
#    - 历史 Checksum: i9j0k1l2m3n4o5p6
#    - 状态: ✅ 一致
# 
# ❌ results/place.timing
#    - 当前 Checksum: q7r8s9t0u1v2w3x4
#    - 历史 Checksum: y5z6a7b8c9d0e1f2
#    - 状态: ❌ 不一致 ⚠️
# 
# ⚠️  警告: results/place.timing 文件已被修改
```

#### 场景 6：批量验证多个步骤
```bash
# 验证整个工作流的所有步骤
edp -validate --all-steps

# 输出示例：
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 批量验证 - 所有步骤
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 
# 验证进度: [████████████████████] 100% (5/5)
# 
# 步骤 1/5: pv_calibre.ipmerge
# ✅ 验证通过
# 
# 步骤 2/5: pv_calibre.drc
# ✅ 验证通过
# 
# 步骤 3/5: pnr_innovus.init
# ✅ 验证通过
# 
# 步骤 4/5: pnr_innovus.place
# ✅ 验证通过
# 
# 步骤 5/5: pnr_innovus.postroute
# ⚠️  验证警告: 发现 2 条警告信息
# 
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 验证总结
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 
# 总步骤数: 5
# ✅ 通过: 4
# ⚠️  警告: 1
# ❌ 失败: 0
# 
# 验证结果: ✅ 总体通过（有警告）
```

---

## 总结

### 四个功能的关联性

1. **历史查询** → 提供数据基础
   - 为性能分析提供历史数据
   - 为回滚功能提供可回滚点
   - 为结果验证提供对比基准

2. **性能分析** → 依赖历史查询
   - 分析历史执行数据
   - 识别性能瓶颈
   - 提供优化建议

3. **回滚功能** → 依赖历史查询
   - 从历史记录中选择回滚点
   - 恢复历史执行状态
   - 需要结果验证确认回滚成功

4. **结果验证** → 独立功能，但可增强其他功能
   - 验证回滚后的状态
   - 验证性能优化后的结果
   - 对比历史执行结果

### 实施优先级建议

1. **第一阶段**：历史查询功能（基础功能）
2. **第二阶段**：结果验证功能（相对独立，价值明确）
3. **第三阶段**：性能分析功能（依赖历史查询）
4. **第四阶段**：回滚功能（依赖历史查询和结果验证）

