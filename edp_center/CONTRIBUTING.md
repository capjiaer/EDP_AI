# è´¡çŒ®æŒ‡å—

æ„Ÿè°¢ä½ å¯¹ EDP_AI æ¡†æ¶çš„å…³æ³¨ï¼æœ¬æ–‡æ¡£å°†å¸®åŠ©ä½ äº†è§£å¦‚ä½•ä¸ºé¡¹ç›®åšå‡ºè´¡çŒ®ã€‚

## ğŸ“‹ ç›®å½•

- [è¡Œä¸ºå‡†åˆ™](#è¡Œä¸ºå‡†åˆ™)
- [å¦‚ä½•è´¡çŒ®](#å¦‚ä½•è´¡çŒ®)
- [å¼€å‘ç¯å¢ƒè®¾ç½®](#å¼€å‘ç¯å¢ƒè®¾ç½®)
- [ä»£ç é£æ ¼](#ä»£ç é£æ ¼)
- [æäº¤è§„èŒƒ](#æäº¤è§„èŒƒ)
- [æµ‹è¯•è¦æ±‚](#æµ‹è¯•è¦æ±‚)
- [æ–‡æ¡£è¦æ±‚](#æ–‡æ¡£è¦æ±‚)
- [é—®é¢˜æŠ¥å‘Š](#é—®é¢˜æŠ¥å‘Š)
- [åŠŸèƒ½è¯·æ±‚](#åŠŸèƒ½è¯·æ±‚)

---

## è¡Œä¸ºå‡†åˆ™

### æˆ‘ä»¬çš„æ‰¿è¯º

ä¸ºäº†è¥é€ å¼€æ”¾å’Œå‹å¥½çš„ç¯å¢ƒï¼Œæˆ‘ä»¬æ‰¿è¯ºï¼š

- å°Šé‡æ‰€æœ‰è´¡çŒ®è€…
- æ¥å—å»ºè®¾æ€§çš„æ‰¹è¯„
- ä¸“æ³¨äºå¯¹ç¤¾åŒºæœ€æœ‰åˆ©çš„äº‹æƒ…
- å¯¹å…¶ä»–ç¤¾åŒºæˆå‘˜è¡¨ç¤ºåŒç†å¿ƒ

### æˆ‘ä»¬çš„æ ‡å‡†

**é¼“åŠ±çš„è¡Œä¸ºï¼š**
- ä½¿ç”¨å‹å¥½å’ŒåŒ…å®¹çš„è¯­è¨€
- å°Šé‡ä¸åŒçš„è§‚ç‚¹å’Œç»éªŒ
- ä¼˜é›…åœ°æ¥å—å»ºè®¾æ€§æ‰¹è¯„
- å…³æ³¨å¯¹ç¤¾åŒºæœ€æœ‰åˆ©çš„äº‹æƒ…
- å¯¹å…¶ä»–ç¤¾åŒºæˆå‘˜è¡¨ç¤ºåŒç†å¿ƒ

**ä¸å¯æ¥å—çš„è¡Œä¸ºï¼š**
- ä½¿ç”¨æ€§åŒ–çš„è¯­è¨€æˆ–å›¾åƒ
- äººèº«æ”»å‡»ã€ä¾®è¾±æ€§/è´¬æŸæ€§è¯„è®º
- å…¬å¼€æˆ–ç§ä¸‹éªšæ‰°
- æœªç»æ˜ç¡®è®¸å¯å‘å¸ƒä»–äººçš„ç§äººä¿¡æ¯
- å…¶ä»–åœ¨ä¸“ä¸šç¯å¢ƒä¸­ä¸é€‚å½“çš„è¡Œä¸º

---

## å¦‚ä½•è´¡çŒ®

### æŠ¥å‘Š Bug

å¦‚æœä½ å‘ç°äº†ä¸€ä¸ª bugï¼Œè¯·ï¼š

1. **æ£€æŸ¥æ˜¯å¦å·²æœ‰ç›¸å…³ issue**
   - æœç´¢ç°æœ‰çš„ issuesï¼Œé¿å…é‡å¤æŠ¥å‘Š

2. **åˆ›å»ºæ–°çš„ issue**
   - ä½¿ç”¨æ¸…æ™°çš„æ ‡é¢˜æè¿°é—®é¢˜
   - æä¾›è¯¦ç»†çš„å¤ç°æ­¥éª¤
   - åŒ…å«ç¯å¢ƒä¿¡æ¯ï¼ˆPython ç‰ˆæœ¬ã€æ“ä½œç³»ç»Ÿç­‰ï¼‰
   - å¦‚æœå¯èƒ½ï¼Œæä¾›æœ€å°å¤ç°ç¤ºä¾‹

3. **Issue æ¨¡æ¿**
   ```
   **Bug æè¿°**
   æ¸…æ™°ç®€æ´åœ°æè¿° bug

   **å¤ç°æ­¥éª¤**
   1. æ‰§è¡Œ '...'
   2. ç‚¹å‡» '....'
   3. çœ‹åˆ°é”™è¯¯

   **æœŸæœ›è¡Œä¸º**
   æ¸…æ™°ç®€æ´åœ°æè¿°ä½ æœŸæœ›å‘ç”Ÿä»€ä¹ˆ

   **ç¯å¢ƒä¿¡æ¯**
   - Python ç‰ˆæœ¬: 
   - æ“ä½œç³»ç»Ÿ: 
   - EDP_AI ç‰ˆæœ¬: 

   **é™„åŠ ä¿¡æ¯**
   ä»»ä½•å…¶ä»–ç›¸å…³çš„ä¸Šä¸‹æ–‡ä¿¡æ¯
   ```

### æå‡ºåŠŸèƒ½è¯·æ±‚

å¦‚æœä½ æœ‰ä¸€ä¸ªåŠŸèƒ½æƒ³æ³•ï¼Œè¯·ï¼š

1. **æ£€æŸ¥æ˜¯å¦å·²æœ‰ç›¸å…³ issue**
   - æœç´¢ç°æœ‰çš„ issuesï¼Œé¿å…é‡å¤è¯·æ±‚

2. **åˆ›å»ºåŠŸèƒ½è¯·æ±‚ issue**
   - ä½¿ç”¨æ¸…æ™°çš„æ ‡é¢˜æè¿°åŠŸèƒ½
   - è¯¦ç»†è¯´æ˜åŠŸèƒ½çš„ä½¿ç”¨åœºæ™¯
   - è§£é‡Šä¸ºä»€ä¹ˆè¿™ä¸ªåŠŸèƒ½å¯¹é¡¹ç›®æœ‰ä»·å€¼
   - å¦‚æœå¯èƒ½ï¼Œæä¾›å®ç°å»ºè®®

### æäº¤ä»£ç 

1. **Fork é¡¹ç›®**
   ```bash
   git clone https://github.com/your-username/EDP_AI.git
   cd EDP_AI
   ```

2. **åˆ›å»ºåˆ†æ”¯**
   ```bash
   git checkout -b feature/your-feature-name
   # æˆ–
   git checkout -b fix/your-bug-fix
   ```

3. **è¿›è¡Œæ›´æ”¹**
   - éµå¾ªä»£ç é£æ ¼è§„èŒƒ
   - æ·»åŠ å¿…è¦çš„æµ‹è¯•
   - æ›´æ–°ç›¸å…³æ–‡æ¡£

4. **æäº¤æ›´æ”¹**
   ```bash
   git add .
   git commit -m "feat: add new feature"
   ```

5. **æ¨é€æ›´æ”¹**
   ```bash
   git push origin feature/your-feature-name
   ```

6. **åˆ›å»º Pull Request**
   - ä½¿ç”¨æ¸…æ™°çš„æ ‡é¢˜å’Œæè¿°
   - é“¾æ¥ç›¸å…³çš„ issue
   - ç­‰å¾…ä»£ç å®¡æŸ¥

---

## å¼€å‘ç¯å¢ƒè®¾ç½®

### å‰ç½®è¦æ±‚

- Python 3.6+
- Git
- æ–‡æœ¬ç¼–è¾‘å™¨æˆ– IDEï¼ˆæ¨è VS Code æˆ– PyCharmï¼‰

### è®¾ç½®æ­¥éª¤

1. **å…‹éš†ä»“åº“**
   ```bash
   git clone https://github.com/your-username/EDP_AI.git
   cd EDP_AI
   ```

2. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**
   ```bash
   python -m venv venv
   source venv/bin/activate  # Linux/Mac
   # æˆ–
   venv\Scripts\activate  # Windows
   ```

3. **å®‰è£…ä¾èµ–**
   ```bash
   pip install -r requirements.txt
   ```

4. **å®‰è£…å¼€å‘ä¾èµ–**
   ```bash
   pip install -r requirements-dev.txt  # å¦‚æœå­˜åœ¨
   pip install pytest pytest-cov black flake8 mypy
   ```

5. **éªŒè¯å®‰è£…**
   ```bash
   python -m pytest tests/
   ```

### IDE é…ç½®

#### VS Code

æ¨èæ‰©å±•ï¼š
- Python
- Pylance
- Python Docstring Generator
- Markdown Preview Enhanced

#### PyCharm

æ¨èè®¾ç½®ï¼š
- å¯ç”¨ç±»å‹æ£€æŸ¥
- é…ç½®ä»£ç æ ¼å¼åŒ–ï¼ˆBlackï¼‰
- é…ç½®ä»£ç æ£€æŸ¥ï¼ˆFlake8ï¼‰

---

## ä»£ç é£æ ¼

### Python ä»£ç é£æ ¼

æˆ‘ä»¬éµå¾ª [PEP 8](https://www.python.org/dev/peps/pep-0008/) ä»£ç é£æ ¼è§„èŒƒã€‚

#### åŸºæœ¬è§„åˆ™

- **ç¼©è¿›**: ä½¿ç”¨ 4 ä¸ªç©ºæ ¼ï¼Œä¸ä½¿ç”¨åˆ¶è¡¨ç¬¦
- **è¡Œé•¿åº¦**: æœ€å¤§ 100 å­—ç¬¦ï¼ˆæ³¨é‡Šå’Œæ–‡æ¡£å­—ç¬¦ä¸²å¯ä»¥æ›´é•¿ï¼‰
- **å¯¼å…¥**: æŒ‰æ ‡å‡†åº“ã€ç¬¬ä¸‰æ–¹åº“ã€æœ¬åœ°åº“çš„é¡ºåºï¼Œæ¯ç»„ä¹‹é—´ç©ºä¸€è¡Œ
- **å‘½å**: 
  - å‡½æ•°å’Œå˜é‡ï¼š`snake_case`
  - ç±»ï¼š`PascalCase`
  - å¸¸é‡ï¼š`UPPER_SNAKE_CASE`
  - ç§æœ‰æˆå‘˜ï¼š`_leading_underscore`

#### ä»£ç æ ¼å¼åŒ–

ä½¿ç”¨ **Black** è¿›è¡Œä»£ç æ ¼å¼åŒ–ï¼š

```bash
black edp_center/
```

#### ä»£ç æ£€æŸ¥

ä½¿ç”¨ **Flake8** è¿›è¡Œä»£ç æ£€æŸ¥ï¼š

```bash
flake8 edp_center/
```

#### ç±»å‹æç¤º

ä½¿ç”¨ **mypy** è¿›è¡Œç±»å‹æ£€æŸ¥ï¼š

```bash
mypy edp_center/
```

**è¦æ±‚ï¼š**
- æ‰€æœ‰å…¬å…±å‡½æ•°å’Œç±»æ–¹æ³•éƒ½åº”è¯¥æœ‰ç±»å‹æç¤º
- ä½¿ç”¨ `typing` æ¨¡å—çš„ç±»å‹æ³¨è§£

**ç¤ºä¾‹ï¼š**
```python
from typing import List, Optional, Dict
from pathlib import Path

def process_file(
    file_path: Path,
    options: Optional[Dict[str, str]] = None
) -> List[str]:
    """å¤„ç†æ–‡ä»¶å¹¶è¿”å›ç»“æœåˆ—è¡¨"""
    pass
```

### æ–‡æ¡£å­—ç¬¦ä¸²

ä½¿ç”¨ Google é£æ ¼çš„æ–‡æ¡£å­—ç¬¦ä¸²ï¼š

```python
def process_file(file_path: Path, options: Optional[Dict] = None) -> List[str]:
    """
    å¤„ç†æ–‡ä»¶å¹¶è¿”å›ç»“æœåˆ—è¡¨
    
    Args:
        file_path: æ–‡ä»¶è·¯å¾„
        options: å¯é€‰çš„é…ç½®å­—å…¸
    
    Returns:
        å¤„ç†åçš„ç»“æœåˆ—è¡¨
    
    Raises:
        FileNotFoundError: å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨
        ValueError: å¦‚æœæ–‡ä»¶æ ¼å¼æ— æ•ˆ
    
    Example:
        >>> result = process_file(Path("test.txt"))
        >>> print(result)
        ['line1', 'line2']
    """
    pass
```

### æ³¨é‡Š

- **ä»£ç åº”è¯¥è‡ªè§£é‡Š**ï¼šä¼˜å…ˆä½¿ç”¨æ¸…æ™°çš„å˜é‡åå’Œå‡½æ•°å
- **å¤æ‚é€»è¾‘éœ€è¦æ³¨é‡Š**ï¼šè§£é‡Š"ä¸ºä»€ä¹ˆ"è€Œä¸æ˜¯"æ˜¯ä»€ä¹ˆ"
- **TODO æ³¨é‡Š**ï¼šä½¿ç”¨ `# TODO: æè¿°` æ ¼å¼

---

## æäº¤è§„èŒƒ

æˆ‘ä»¬ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒã€‚

### æäº¤æ ¼å¼

```
<type>(<scope>): <subject>

<body>

<footer>
```

### ç±»å‹ (type)

- `feat`: æ–°åŠŸèƒ½
- `fix`: Bug ä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ”¹
- `style`: ä»£ç æ ¼å¼æ›´æ”¹ï¼ˆä¸å½±å“ä»£ç è¿è¡Œï¼‰
- `refactor`: ä»£ç é‡æ„
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

### èŒƒå›´ (scope)

å¯é€‰ï¼Œè¡¨ç¤ºå½±å“çš„èŒƒå›´ï¼Œå¦‚ï¼š
- `cmdkit`: edp_cmdkit æ¨¡å—
- `configkit`: edp_configkit æ¨¡å—
- `dirkit`: edp_dirkit æ¨¡å—
- `flowkit`: edp_flowkit æ¨¡å—
- `cli`: å‘½ä»¤è¡Œæ¥å£

### ä¸»é¢˜ (subject)

- ä½¿ç”¨ç¥ˆä½¿å¥ï¼Œé¦–å­—æ¯å°å†™
- ä¸è¶…è¿‡ 50 ä¸ªå­—ç¬¦
- ä¸ä»¥å¥å·ç»“å°¾

### ç¤ºä¾‹

```bash
feat(cmdkit): add support for #import source directive

Add support for importing source files using #import source directive.
This allows better code organization and reusability.

Closes #123
```

```bash
fix(configkit): resolve config merge order issue

Fix the issue where project config was not properly overriding common config.

Fixes #456
```

---

## æµ‹è¯•è¦æ±‚

### æµ‹è¯•è¦†ç›–ç‡

- **æ–°åŠŸèƒ½å¿…é¡»åŒ…å«æµ‹è¯•**
- **Bug ä¿®å¤å¿…é¡»åŒ…å«å›å½’æµ‹è¯•**
- **ç›®æ ‡è¦†ç›–ç‡**: 80%+

### æµ‹è¯•ç»“æ„

```
tests/
â”œâ”€â”€ test_module_name.py
â”œâ”€â”€ test_another_module.py
â””â”€â”€ fixtures/
    â””â”€â”€ test_data.yaml
```

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
pytest tests/test_module_name.py

# è¿è¡Œç‰¹å®šæµ‹è¯•å‡½æ•°
pytest tests/test_module_name.py::test_function_name

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pytest --cov=edp_center --cov-report=html
```

### æµ‹è¯•ç¼–å†™è§„èŒƒ

- ä½¿ç”¨ `pytest` æ¡†æ¶
- æµ‹è¯•å‡½æ•°ä»¥ `test_` å¼€å¤´
- ä½¿ç”¨æè¿°æ€§çš„æµ‹è¯•åç§°
- æ¯ä¸ªæµ‹è¯•åº”è¯¥ç‹¬ç«‹ï¼Œä¸ä¾èµ–å…¶ä»–æµ‹è¯•
- ä½¿ç”¨ fixtures å…±äº«æµ‹è¯•æ•°æ®

**ç¤ºä¾‹ï¼š**
```python
import pytest
from pathlib import Path
from edp_center.packages.edp_cmdkit import CmdProcessor

def test_process_file_success(tmp_path):
    """æµ‹è¯•æˆåŠŸå¤„ç†æ–‡ä»¶"""
    # å‡†å¤‡æµ‹è¯•æ•°æ®
    input_file = tmp_path / "input.tcl"
    input_file.write_text("#import source helper.tcl")
    
    # æ‰§è¡Œæµ‹è¯•
    processor = CmdProcessor()
    result = processor.process_file(input_file)
    
    # éªŒè¯ç»“æœ
    assert "helper.tcl" in result
```

---

## æ–‡æ¡£è¦æ±‚

### ä»£ç æ–‡æ¡£

- **æ‰€æœ‰å…¬å…±å‡½æ•°å’Œç±»å¿…é¡»æœ‰æ–‡æ¡£å­—ç¬¦ä¸²**
- **å¤æ‚é€»è¾‘éœ€è¦æ³¨é‡Š**
- **ä½¿ç”¨ç±»å‹æç¤º**

### ç”¨æˆ·æ–‡æ¡£

- **æ–°åŠŸèƒ½éœ€è¦æ›´æ–°æ•™ç¨‹æ–‡æ¡£**
- **API å˜æ›´éœ€è¦æ›´æ–° API æ–‡æ¡£**
- **ç ´åæ€§å˜æ›´éœ€è¦æ›´æ–°è¿ç§»æŒ‡å—**

### æ–‡æ¡£ä½ç½®

- **æ•™ç¨‹æ–‡æ¡£**: `edp_center/tutorial/`
- **API æ–‡æ¡£**: `edp_center/docs/api/`
- **æ¶æ„æ–‡æ¡£**: `edp_center/docs/architecture/`
- **README**: å„æ¨¡å—çš„ `README.md`

### æ–‡æ¡£æ ¼å¼

- ä½¿ç”¨ Markdown æ ¼å¼
- éµå¾ªç°æœ‰çš„æ–‡æ¡£é£æ ¼
- åŒ…å«ä»£ç ç¤ºä¾‹
- ä½¿ç”¨æ¸…æ™°çš„æ ‡é¢˜å’Œç»“æ„

---

## é—®é¢˜æŠ¥å‘Š

### æŠ¥å‘Š Bug

1. **æ£€æŸ¥ç°æœ‰ issues**
2. **åˆ›å»ºæ–°çš„ issue**
3. **æä¾›è¯¦ç»†ä¿¡æ¯**ï¼š
   - Bug æè¿°
   - å¤ç°æ­¥éª¤
   - æœŸæœ›è¡Œä¸º
   - ç¯å¢ƒä¿¡æ¯
   - é”™è¯¯æ—¥å¿—

### æŠ¥å‘Šå®‰å…¨é—®é¢˜

**è¯·å‹¿åœ¨å…¬å¼€ issue ä¸­æŠ¥å‘Šå®‰å…¨é—®é¢˜ï¼**

è¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼æŠ¥å‘Šï¼š
- å‘é€é‚®ä»¶åˆ°å®‰å…¨å›¢é˜Ÿ
- æˆ–ä½¿ç”¨ç§å¯†æ¸ é“

---

## åŠŸèƒ½è¯·æ±‚

### æå‡ºåŠŸèƒ½è¯·æ±‚

1. **æ£€æŸ¥ç°æœ‰ issues**
2. **åˆ›å»ºåŠŸèƒ½è¯·æ±‚ issue**
3. **æä¾›è¯¦ç»†ä¿¡æ¯**ï¼š
   - åŠŸèƒ½æè¿°
   - ä½¿ç”¨åœºæ™¯
   - é¢„æœŸè¡Œä¸º
   - å¯èƒ½çš„å®ç°æ–¹æ¡ˆ

### å®ç°åŠŸèƒ½

1. **è®¨è®ºåŠŸèƒ½è®¾è®¡**
   - åœ¨ issue ä¸­è®¨è®ºå®ç°æ–¹æ¡ˆ
   - è·å¾—ç»´æŠ¤è€…è®¤å¯

2. **å®ç°åŠŸèƒ½**
   - éµå¾ªä»£ç è§„èŒƒ
   - ç¼–å†™æµ‹è¯•
   - æ›´æ–°æ–‡æ¡£

3. **æäº¤ Pull Request**
   - é“¾æ¥ç›¸å…³ issue
   - ç­‰å¾…ä»£ç å®¡æŸ¥

---

## ä»£ç å®¡æŸ¥æµç¨‹

### Pull Request æ£€æŸ¥æ¸…å•

æäº¤ PR å‰ï¼Œè¯·ç¡®ä¿ï¼š

- [ ] ä»£ç éµå¾ªä»£ç é£æ ¼è§„èŒƒ
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] æ·»åŠ äº†å¿…è¦çš„æµ‹è¯•
- [ ] æ›´æ–°äº†ç›¸å…³æ–‡æ¡£
- [ ] æäº¤ä¿¡æ¯éµå¾ªè§„èŒƒ
- [ ] æ²¡æœ‰å¼•å…¥ç ´åæ€§å˜æ›´ï¼ˆæˆ–å·²æ›´æ–°è¿ç§»æŒ‡å—ï¼‰

### å®¡æŸ¥åé¦ˆ

- **ä¿æŒå¼€æ”¾å¿ƒæ€**ï¼šæ¥å—å»ºè®¾æ€§æ‰¹è¯„
- **åŠæ—¶å“åº”**ï¼šå°½å¿«å›å¤å®¡æŸ¥æ„è§
- **æŒç»­æ”¹è¿›**ï¼šæ ¹æ®åé¦ˆæ”¹è¿›ä»£ç 

---

## è·å–å¸®åŠ©

### æ–‡æ¡£èµ„æº

- [æ•™ç¨‹æ–‡æ¡£](../tutorial/)
- [API æ–‡æ¡£](docs/api/)
- [æ¶æ„æ–‡æ¡£](docs/architecture/)

### ç¤¾åŒºæ”¯æŒ

- GitHub Issues: æŠ¥å‘Šé—®é¢˜å’ŒåŠŸèƒ½è¯·æ±‚
- GitHub Discussions: è®¨è®ºå’Œé—®ç­”

---

## è®¸å¯è¯

é€šè¿‡è´¡çŒ®ä»£ç ï¼Œä½ åŒæ„ä½ çš„è´¡çŒ®å°†åœ¨é¡¹ç›®çš„è®¸å¯è¯ä¸‹å‘å¸ƒã€‚

---

**æ„Ÿè°¢ä½ çš„è´¡çŒ®ï¼** ğŸ‰

