# GDS SHIFT 文件详解

本文档解释 GDS SHIFT 文件在 IC 设计流程中的作用。

## SHIFT GDS 简介

**SHIFT GDS** 是对原始 GDS 文件进行**位置偏移（shift）**后的版本。

### 基本概念

- **格式**：GDSII 格式（与标准 GDS 相同）
- **用途**：版图位置偏移校正
- **特点**：版图内容相同，但位置有偏移

---

## SHIFT GDS 的作用

### 1. 版图偏移校正

**SHIFT GDS 主要用于：**

| 用途 | 说明 |
|------|------|
| **对准（Alignment）** | 确保不同层之间的精确对齐 |
| **修正（Correction）** | 修正设计中的位置偏差 |
| **优化（Optimization）** | 调整版图位置，优化制造工艺 |

### 2. 常见使用场景

**场景1：多曝光（Multi-Patterning）**
- ✅ 用于多曝光工艺中的层对齐
- ✅ 确保不同曝光层之间的精确对准

**场景2：工艺修正**
- ✅ 修正制造过程中的位置偏差
- ✅ 补偿工艺相关的偏移

**场景3：设计优化**
- ✅ 调整版图位置以优化性能
- ✅ 满足特定的设计规范

---

## GDS 文件类型对比

### 标准 GDS vs SHIFT GDS

| 特性 | 标准 GDS | SHIFT GDS |
|------|---------|-----------|
| **文件名** | `xx.gds` | `xx_SHIFT_15_1.gds` |
| **版图内容** | ✅ 相同 | ✅ 相同 |
| **位置** | 原始位置 | 偏移后的位置 |
| **用途** | 标准版图 | 偏移校正版图 |

### 文件命名规则

**SHIFT GDS 文件命名：**
```
xx_SHIFT_15_1.gds
│  │     │  │ │
│  │     │  │ └─ 版本号（1）
│  │     │  └─ 偏移值（15）
│  │     └─ SHIFT 标识
│  └─ 库名称
└─ 基础名称
```

**示例：**
- `sa08nvgllogl22hdp068a.gds` - 标准 GDS
- `sa08nvgllogl22hdp068a_SHIFT_15_1.gds` - SHIFT GDS（偏移15，版本1）

---

## GDS 目录结构

### 典型的 GDS 目录

```
gds/
├── sa08nvgllogl22hdp068a.gds              # 标准 GDS（主要文件）
├── sa08nvgllogl22hdp068a_SHIFT_15_1.gds  # SHIFT GDS（偏移版本）
├── sa08nvgllogl22hdp068a.oasis           # OASIS 格式（备选格式）
└── README_gds                             # GDS 说明文档
```

### 文件选择

**标准使用：**
- ✅ **优先使用标准 GDS**：`xx.gds`
- ✅ **SHIFT GDS 用于特殊需求**：需要偏移校正时使用

**SHIFT GDS 使用场景：**
- ⚠️ **多曝光工艺**：需要层对齐时
- ⚠️ **工艺修正**：需要位置校正时
- ⚠️ **特殊需求**：根据工艺要求使用

---

## SHIFT GDS 的实际使用

### 在 PR 流程中

**标准 PR 流程：**
- ✅ **使用标准 GDS**：`xx.gds`
- ✅ **SHIFT GDS 通常不需要**：除非有特殊工艺要求

**特殊工艺需求：**
- ⚠️ **多曝光工艺**：可能需要 SHIFT GDS
- ⚠️ **工艺修正**：根据 Foundry 要求使用

### 在 LVS 验证中

**LVS（Layout Versus Schematic）验证：**
- ✅ **通常使用标准 GDS**：`xx.gds`
- ⚠️ **SHIFT GDS 用于特殊验证**：需要偏移校正时

---

## 关键理解

### SHIFT GDS 的本质

**SHIFT GDS = 位置偏移后的 GDS 文件**

**关键理解：**
- ✅ **版图内容相同**：与标准 GDS 内容相同
- ✅ **位置有偏移**：版图位置进行了偏移校正
- ✅ **用于特殊需求**：多曝光、工艺修正等

### 使用建议

**标准使用：**
- ✅ **优先使用标准 GDS**：`xx.gds`
- ✅ **SHIFT GDS 用于特殊需求**：根据工艺要求

**实际建议：**
- ✅ **库文件整理**：主要关注标准 GDS
- ⚠️ **SHIFT GDS 可选**：根据实际需求决定是否包含

---

## 总结

1. **SHIFT GDS** = 位置偏移后的 GDS 文件
2. **功能** = 版图位置偏移校正
3. **用途** = 多曝光、工艺修正、设计优化
4. **使用场景** = 特殊工艺需求
5. **对于 PR 流程** = 通常使用标准 GDS，SHIFT GDS 用于特殊需求

**关键理解：**
- SHIFT GDS 是位置偏移后的版本
- 版图内容与标准 GDS 相同
- 用于特殊工艺需求（多曝光、工艺修正）
- **标准使用优先选择标准 GDS**

**实际使用建议：**
- ✅ **标准 PR 流程**：使用标准 GDS（`xx.gds`）
- ⚠️ **特殊工艺需求**：根据要求使用 SHIFT GDS
- ✅ **库文件整理**：主要关注标准 GDS

